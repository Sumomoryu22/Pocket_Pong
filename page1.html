<!DOCTYPE html>
<html>
<head>
<title>Canvas Example</title>
<style>
  #myCanvas {
    border: 1px solid black; /* Optional: Adds a border for visual clarity */
  }
</style>
</head>
<body>

<canvas id="myCanvas" width="300" height="300"></canvas>

<script>
 // Get the canvas element
const canvas = document.getElementById("myCanvas");

// Get the 2D rendering context
const ctx = canvas.getContext("2d");

// Declaration of variables
let width = canvas.width;
let height = canvas.height;

const BALL_SIZE = 5;
let ballPosition = { x: 20, y: 30 };

let xspeed = 4;
let yspeed = 2;

const PADDLE_WIDTH = 5;
const PADDLE_HEIGHT = 20;
const PADDLE_OFFSET = 10;
let leftPaddleTop = 10;
let rightPaddleTop = 30;

document.addEventListener("mousemove", e => {
rightPaddleTop = e.y - canvas.offsetTop;
});



// background and ball
function draw() {
  //black background
    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, width, height);
//draws pong ball
    ctx.fillStyle = "white";
    ctx.fillRect(ballPosition.x, ballPosition.y, BALL_SIZE, BALL_SIZE);
    
    // left paddle
   ctx.fillRect (
     PADDLE_OFFSET,
     leftPaddleTop,
     PADDLE_WIDTH,
     PADDLE_HEIGHT
   );
   // right paddle
   ctx.fillRect(
    width - PADDLE_WIDTH - PADDLE_OFFSET,
    rightPaddleTop,
    PADDLE_WIDTH,
    PADDLE_HEIGHT
    );
    
}


// ball speed
function update() {
    ballPosition.x += xspeed;
    ballPosition.y += yspeed;
}
// bouncy ball
function checkCollision() {
    let ball = {
        left: ballPosition.x,
        right: ballPosition.x + BALL_SIZE,
        top: ballPosition.y,
        bottom: ballPosition.y + BALL_SIZE
    };
    if (ball.left < 0 || ball.right > width) {
        xspeed = -xspeed;
    }
    if (ball.top < 0 || ball.bottom > height) {
        yspeed = -yspeed;
    }
}
// Brings the code to life
function gameloop() {
    draw();
    update();
    checkCollision();
}

setInterval(gameloop, 30);


</script>

</body>
</html>
